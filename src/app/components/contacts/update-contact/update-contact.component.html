
<div class="update-form">
  <h2>Update Contact</h2>

  <form (ngSubmit)="onUpdateContact()">

    <div>
      <label>User ID:</label>
      <input 
        type="number" 
        [(ngModel)]="userId" 
        name="userId" 
        required 
        placeholder="Enter User ID" 
        (ngModelChange)="updateQueryParams()" />
    </div>

    <div>
      <label>Contact ID:</label>
      <input 
        type="number" 
        [(ngModel)]="contactId" 
        name="contactId" 
        required 
        placeholder="Enter Contact ID" 
        (ngModelChange)="updateQueryParams()" />
    </div>

    <div>
      <label>First Name:</label>
      <input 
        type="text" 
        [(ngModel)]="contact.firstName" 
        name="firstName" 
        required 
        placeholder="Enter First Name" 
        (ngModelChange)="updateQueryParams()" />
    </div>

    <div>
      <label>Last Name:</label>
      <input 
        type="text" 
        [(ngModel)]="contact.lastName" 
        name="lastName" 
        required 
        placeholder="Enter Last Name" 
        (ngModelChange)="updateQueryParams()" />
    </div>

    <div>
      <label>Active:</label>
      <input 
        type="checkbox" 
        [(ngModel)]="contact.isActive" 
        name="isActive" 
        (ngModelChange)="updateQueryParams()" />
    </div>

    <div>
      <label>Contact Details:</label>
      <div *ngFor="let detail of contact.details; let i = index" style="margin-bottom: 10px;">
        <input 
          type="text" 
          [(ngModel)]="detail.type" 
          name="detailType{{i}}" 
          placeholder="Type" 
          required 
          (ngModelChange)="updateQueryParams()" />
        <input 
          type="text" 
          [(ngModel)]="detail.value" 
          name="detailValue{{i}}" 
          placeholder="Value" 
          required 
          (ngModelChange)="updateQueryParams()" />
        <button type="button" (click)="removeDetail(i); updateQueryParams()">Remove</button>
      </div>
      <button type="button" (click)="addDetail(); updateQueryParams()">Add Detail</button>
    </div>

    <button type="submit">Update Contact</button>

    <div *ngIf="successMessage" style="color: green; margin-top: 10px;">{{ successMessage }}</div>
    <div *ngIf="errorMessage" style="color: red; margin-top: 10px;">{{ errorMessage }}</div>

  </form>
</div>
